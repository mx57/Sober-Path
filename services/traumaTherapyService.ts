// Библиотека техник работы с травмой и ПТСР

export interface TraumaTherapyTechnique {
  id: string;
  name: string;
  approach: 'emdr' | 'somatic' | 'narrative' | 'exposure' | 'mindfulness' | 'body_based';
  description: string;
  safetyLevel: 'high_safety' | 'moderate_safety' | 'professional_required';
  duration: number;
  phases: TraumaPhase[];
  contraindications: string[];
  preparationNeeded: string[];
  benefits: string[];
}

export interface TraumaPhase {
  id: string;
  name: string;
  duration: number;
  steps: string[];
  safetyChecks: string[];
}

export const traumaInformedTechniques: TraumaTherapyTechnique[] = [
  {
    id: 'window-of-tolerance',
    name: 'Окно толерантности',
    approach: 'somatic',
    description: 'Обучение распознаванию и возвращению в зону оптимального возбуждения',
    safetyLevel: 'high_safety',
    duration: 20,
    phases: [
      {
        id: 'assessment',
        name: 'Оценка состояния',
        duration: 5,
        steps: [
          'Оцените уровень возбуждения от 1 до 10',
          'Определите, в гипер- или гиповозбуждении вы находитесь',
          'Заметьте телесные ощущения'
        ],
        safetyChecks: [
          'Чувствую ли я себя в безопасности?',
          'Могу ли я остановиться в любой момент?'
        ]
      },
      {
        id: 'regulation',
        name: 'Регуляция',
        duration: 10,
        steps: [
          'При гипервозбуждении: замедлите дыхание, расслабьте мышцы',
          'При гиповозбуждении: активизируйте тело, углубите дыхание',
          'Используйте заземляющие техники'
        ],
        safetyChecks: [
          'Не ухудшается ли мое состояние?',
          'Чувствую ли я контроль над процессом?'
        ]
      },
      {
        id: 'integration',
        name: 'Интеграция',
        duration: 5,
        steps: [
          'Отметьте изменения в самочувствии',
          'Поблагодарите себя за заботу',
          'Запомните эффективные техники'
        ],
        safetyChecks: [
          'Чувствую ли я себя более стабильно?'
        ]
      }
    ],
    contraindications: [
      'Острые психотические состояния',
      'Активные суицидальные мысли',
      'Недавняя серьезная травма без стабилизации'
    ],
    preparationNeeded: [
      'Освоить базовые техники дыхания',
      'Создать безопасное пространство',
      'Иметь план кризисного вмешательства'
    ],
    benefits: [
      'Улучшение эмоциональной регуляции',
      'Снижение симптомов ПТСР',
      'Повышение стрессоустойчивости'
    ]
  },

  {
    id: 'safe-place-visualization',
    name: 'Визуализация безопасного места',
    approach: 'emdr',
    description: 'Создание внутреннего ресурса безопасности для стабилизации',
    safetyLevel: 'high_safety',
    duration: 15,
    phases: [
      {
        id: 'creation',
        name: 'Создание образа',
        duration: 8,
        steps: [
          'Представьте место, где вы чувствуете полную безопасность',
          'Это может быть реальное или воображаемое место',
          'Добавьте яркие детали: цвета, звуки, запахи',
          'Почувствуйте телесные ощущения безопасности'
        ],
        safetyChecks: [
          'Чувствую ли я спокойствие в этом образе?',
          'Нет ли в образе тревожных элементов?'
        ]
      },
      {
        id: 'enhancement',
        name: 'Усиление',
        duration: 5,
        steps: [
          'Усильте позитивные ощущения в теле',
          'Добавьте защитные элементы если нужно',
          'Создайте сигнал для быстрого доступа к образу'
        ],
        safetyChecks: [
          'Стало ли ощущение безопасности сильнее?'
        ]
      },
      {
        id: 'anchoring',
        name: 'Закрепление',
        duration: 2,
        steps: [
          'Положите руку на сердце',
          'Сделайте глубокий вдох с образом безопасности',
          'Запомните это ощущение для будущего использования'
        ],
        safetyChecks: [
          'Могу ли я легко вызвать этот образ?'
        ]
      }
    ],
    contraindications: [
      'Острая диссоциация',
      'Параноидальные состояния'
    ],
    preparationNeeded: [
      'Базовые навыки релаксации',
      'Стабильное настроение'
    ],
    benefits: [
      'Быстрое успокоение в стрессе',
      'Ресурс для работы с травмой',
      'Улучшение сна'
    ]
  },

  {
    id: 'progressive-muscle-release',
    name: 'Прогрессивное расслабление мышц',
    approach: 'somatic',
    description: 'Освобождение травматического напряжения через работу с телом',
    safetyLevel: 'moderate_safety',
    duration: 25,
    phases: [
      {
        id: 'scanning',
        name: 'Сканирование тела',
        duration: 5,
        steps: [
          'Лягте удобно и закройте глаза',
          'Медленно просканируйте тело от головы до ног',
          'Отметьте области напряжения без попытки изменить',
          'Дышите естественно'
        ],
        safetyChecks: [
          'Чувствую ли я связь с телом?',
          'Не возникает ли сильной тревоги?'
        ]
      },
      {
        id: 'tensing',
        name: 'Напряжение групп мышц',
        duration: 15,
        steps: [
          'Начните с мышц лица - напрягите на 5 секунд',
          'Резко расслабьте и почувствуйте контраст',
          'Переходите к плечам, рукам, груди',
          'Продолжайте с животом, ягодицами, ногами'
        ],
        safetyChecks: [
          'Не появляются ли флешбэки?',
          'Остаюсь ли я в настоящем моменте?'
        ]
      },
      {
        id: 'integration',
        name: 'Полное расслабление',
        duration: 5,
        steps: [
          'Почувствуйте все тело расслабленным',
          'Отметьте различие до и после',
          'Медленно вернитесь в комнату'
        ],
        safetyChecks: [
          'Чувствую ли я себя более спокойным?'
        ]
      }
    ],
    contraindications: [
      'Физические травмы мышц',
      'Острые болевые синдромы',
      'Сильная диссоциация при касании тела'
    ],
    preparationNeeded: [
      'Удобное место для лежания',
      'Отсутствие отвлекающих факторов'
    ],
    benefits: [
      'Снижение хронического мышечного напряжения',
      'Улучшение связи с телом',
      'Снижение тревожности'
    ]
  },

  {
    id: 'grounding-5-4-3-2-1',
    name: 'Техника заземления 5-4-3-2-1',
    approach: 'mindfulness',
    description: 'Быстрое возвращение в настоящий момент через органы чувств',
    safetyLevel: 'high_safety',
    duration: 5,
    phases: [
      {
        id: 'sensory-grounding',
        name: 'Сенсорное заземление',
        duration: 5,
        steps: [
          'Назовите 5 вещей, которые видите',
          'Назовите 4 вещи, которые можете потрогать',
          'Назовите 3 звука, которые слышите',
          'Назовите 2 запаха, которые чувствуете',
          'Назовите 1 вкус во рту'
        ],
        safetyChecks: [
          'Чувствую ли я себя более присутствующим?',
          'Уменьшилась ли диссоциация?'
        ]
      }
    ],
    contraindications: [],
    preparationNeeded: [],
    benefits: [
      'Быстрое прекращение диссоциации',
      'Возвращение в настоящий момент',
      'Снижение тревоги и паники'
    ]
  },

  {
    id: 'butterfly-hug',
    name: 'Объятие бабочки',
    approach: 'emdr',
    description: 'Самоуспокоение через двусторонную стимуляцию',
    safetyLevel: 'high_safety',
    duration: 10,
    phases: [
      {
        id: 'positioning',
        name: 'Подготовка позы',
        duration: 2,
        steps: [
          'Скрестите руки на груди',
          'Положите ладони на плечи или верхнюю часть рук',
          'Создайте "крылья бабочки"'
        ],
        safetyChecks: [
          'Удобно ли мне в этой позе?'
        ]
      },
      {
        id: 'tapping',
        name: 'Попеременное похлопывание',
        duration: 6,
        steps: [
          'Медленно и ритмично хлопайте руками по плечам',
          'Чередуйте левую и правую руку',
          'Дышите глубоко и спокойно',
          'Можете думать о чем-то приятном'
        ],
        safetyChecks: [
          'Чувствую ли я успокоение?',
          'Не возникает ли дискомфорта?'
        ]
      },
      {
        id: 'completion',
        name: 'Завершение',
        duration: 2,
        steps: [
          'Постепенно замедлите движения',
          'Остановитесь и почувствуйте изменения',
          'Сделайте несколько глубоких вдохов'
        ],
        safetyChecks: [
          'Чувствую ли я себя более спокойным?'
        ]
      }
    ],
    contraindications: [
      'Травмы рук или плеч',
      'Негативные ассоциации с прикосновениями'
    ],
    preparationNeeded: [],
    benefits: [
      'Быстрое самоуспокоение',
      'Активация парасимпатической нервной системы',
      'Доступно в любое время'
    ]
  }
];

// Техники работы с диссоциацией
export interface DissociationTechnique {
  id: string;
  name: string;
  type: 'grounding' | 'orientation' | 'sensory' | 'movement';
  description: string;
  steps: string[];
  emergencyUse: boolean;
}

export const dissociationTechniques: DissociationTechnique[] = [
  {
    id: 'ice-cube-grounding',
    name: 'Заземление льдом',
    type: 'sensory',
    description: 'Использование холодного ощущения для возвращения в тело',
    steps: [
      'Возьмите кубик льда в руки',
      'Сосредоточьтесь на ощущении холода',
      'Медленно двигайте лед по рукам',
      'Описывайте ощущения вслух',
      'Продолжайте до ощущения присутствия в теле'
    ],
    emergencyUse: true
  },
  {
    id: 'name-surroundings',
    name: 'Называние окружения',
    type: 'orientation',
    description: 'Ориентация в пространстве и времени',
    steps: [
      'Скажите вслух свое полное имя',
      'Назовите текущую дату и время',
      'Опишите, где вы находитесь',
      'Перечислите предметы вокруг вас',
      'Скажите, что вы в безопасности сейчас'
    ],
    emergencyUse: true
  },
  {
    id: 'movement-grounding',
    name: 'Двигательное заземление',
    type: 'movement',
    description: 'Возвращение в тело через движение',
    steps: [
      'Потопайте ногами по полу',
      'Хлопайте в ладоши',
      'Сожмите и разожмите кулаки',
      'Покачайте головой из стороны в сторону',
      'Потянитесь всем телом'
    ],
    emergencyUse: true
  }
];

// Техники для работы с гневом и агрессией
export interface AngerManagementTechnique {
  id: string;
  name: string;
  phase: 'prevention' | 'escalation' | 'peak' | 'recovery';
  description: string;
  steps: string[];
  physicalSafety: string[];
}

export const angerManagementTechniques: AngerManagementTechnique[] = [
  {
    id: 'anger-thermometer',
    name: 'Термометр гнева',
    phase: 'prevention',
    description: 'Раннее распознавание признаков нарастающего гнева',
    steps: [
      'Создайте шкалу гнева от 0 до 10',
      'Опишите телесные ощущения на каждом уровне',
      'Определите "точку невозврата" (обычно 7-8)',
      'Запланируйте действия для уровней 3-5',
      'Практикуйтесь в ежедневной оценке'
    ],
    physicalSafety: [
      'Не принимайте важных решений выше уровня 6',
      'Удалитесь из провокационной ситуации'
    ]
  },
  {
    id: 'timeout-technique',
    name: 'Техника тайм-аута',
    phase: 'escalation',
    description: 'Временное удаление из конфликтной ситуации',
    steps: [
      'Скажите: "Мне нужна пауза на 20 минут"',
      'Покиньте помещение или ситуацию',
      'Займитесь физической активностью',
      'Используйте дыхательные техники',
      'Вернитесь только когда успокоитесь'
    ],
    physicalSafety: [
      'Не садитесь за руль в гневе',
      'Избегайте алкоголя или наркотиков'
    ]
  }
];

export default {
  traumaInformedTechniques,
  dissociationTechniques,
  angerManagementTechniques
};